# Cloudflare Pages configuration for Linefulness
# Reference: https://developers.cloudflare.com/pages/platform/build-configuration/

name = "linefulness"
compatibility_date = "2024-01-01"
pages_build_output_dir = "./dist"

# Environment variables (use `wrangler secret` for sensitive values)
[vars]
NODE_ENV = "production"
SITE_URL = "https://linefulness.com"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "linefulness-db"
database_id = "d6604869-55c5-4509-b0a6-362241f8dd68"

# Cache API configuration
# Note: [cache] section is not valid in wrangler.toml for Pages
# Caching is configured via Cloudflare Dashboard or _headers file

# KV Namespace for caching location data (optional)
# [[kv_namespaces]]
# binding = "LOCATIONS_CACHE"
# id = "your-kv-namespace-id"

# Durable Objects (if needed for session management)
# [[durable_objects.bindings]]
# name = "SESSIONS"
# class_name = "Session"

# Environment-specific configuration
# Note: Pages only supports "preview" and "production" environments
[env.preview]
name = "linefulness-preview"
[env.preview.vars]
NODE_ENV = "preview"
SITE_URL = "https://preview.linefulness.com"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "linefulness-db-preview"
database_id = "d6604869-55c5-4509-b0a6-362241f8dd68"

[env.production]
name = "linefulness"
[env.production.vars]
NODE_ENV = "production"
SITE_URL = "https://linefulness.com"

[[env.production.d1_databases]]
binding = "DB"
database_name = "linefulness-db"
database_id = "d6604869-55c5-4509-b0a6-362241f8dd68"
